// This code should be added to a Custom HTML tag placed in body end in Matomo TagManager and it should be executed on pageview
//It will fire a custom event as soon as a user clicks on elements with the data-attribute data-event-category set
//We also support child objects to the data-event-category, where the data-event-include is set.
<script type="text/javascript">
var _mtm = _mtm || [];
document.documentElement.addEventListener('mousedown', function (event) {
     if (event.target.getAttribute('data-event-category') != null) {
                _mtm.push({
                  'event': 'customEvent',
                      'eventCategory': event.target.getAttribute('data-event-category'),
                      'eventAction': event.target.getAttribute('data-event-action'),
                      'eventName': event.target.getAttribute('data-event-name'),
                      'eventValue': Number(event.target.getAttribute('data-event-value'))
                });  

     }
     else if (event.target.getAttribute('data-event-include') != null) {
                _mtm.push({
                  'event': 'customEvent',
                      'eventCategory': event.target.closest('data-event-category'),
                      'eventAction': event.target.closest('data-event-action'),
                      'eventName': event.target.closest('data-event-name'),
                      'eventValue': Number(event.target.closest('data-event-value'))
                });  

     }     

         
}, true);
</script>
